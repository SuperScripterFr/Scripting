-- RTX Hub 

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local TextChatService = game:GetService("TextChatService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- ======= Hub Whitelist =======
local whitelist = {
    [3972688973] = true, -- Main Acc
    [2522193455] = true, -- (Alt)
    [5146822757] = true, -- (Alt)
    [5054998059] = true, -- (Alt)
    [7820186858] = true, -- (Alt)
    [9407037318] = true, -- Messi
    [1989950303] = true, -- Lucky
    
}

local player = game.Players.LocalPlayer
if not whitelist[player.UserId] then
    player:Kick("Nice try brother. but you failed to get access. try again later.")
    return
end

-- ======= Page Whitelist =======
local VERIFIED_USERS = {
    2522193455, -- Hub Creator
    2522193455, -- (Alt)
    5146822757, -- (Alt)
    5054998059, -- (Alt)
    7820186858, -- (Alt)
    1989950303, -- Lucky
}
local function isVerified(userId)
    for _, id in ipairs(VERIFIED_USERS) do if id == userId then return true end end
    return false
end

-- ======= Config / Defaults (preserved) =======
local DEFAULT_THEME = {
    Accent = Color3.fromRGB(98, 53, 255),
    Background = Color3.fromRGB(15,15,20),
    Panel = Color3.fromRGB(26,26,32),
    Text = Color3.fromRGB(235,235,240),
    Muted = Color3.fromRGB(160,160,170),
    Radius = UDim.new(0, 12),
    Shadows = true
}

local ANIM = { Time = 0.18, Style = Enum.EasingStyle.Quad, Direction = Enum.EasingDirection.Out }
local SETTINGS_FILE = "rtxhub_settings.json"

-- ======= Helpers (preserved & reused) =======
local function safe_pcall(fn, ...) local ok, res = pcall(fn, ...) return ok, res end
local function tw(instance, props, t) t = t or ANIM.Time return TweenService:Create(instance, TweenInfo.new(t, ANIM.Style, ANIM.Direction), props) end
local function addRound(parent, radius) local rc = Instance.new("UICorner") rc.CornerRadius = radius or DEFAULT_THEME.Radius rc.Parent = parent return rc end
local function addStroke(parent, color, thickness) local stroke = Instance.new("UIStroke") stroke.Color = color or Color3.new(0,0,0) stroke.Thickness = thickness or 1 stroke.Parent = parent return stroke end

-- ======= Settings (unchanged behavior) =======
local Settings = {
    AutoExecute = false,
    Theme = {
        Accent = DEFAULT_THEME.Accent,
        Background = DEFAULT_THEME.Background,
        Panel = DEFAULT_THEME.Panel,
        Text = DEFAULT_THEME.Text,
        Muted = DEFAULT_THEME.Muted
    },
    WalkSpeed = 16,
    JumpPower = 50
}

local function loadSettings()
    if typeof(writefile) == "function" and typeof(readfile) == "function" then
        local ok, content = pcall(function() return readfile(SETTINGS_FILE) end)
        if ok and content and #content > 0 then
            local ok2, parsed = pcall(function() return HttpService:JSONDecode(content) end)
            if ok2 and type(parsed) == "table" then
                for k,v in pairs(parsed) do Settings[k] = v end
                if Settings.Theme and type(Settings.Theme) == "table" then
                    for tk, tv in pairs(Settings.Theme) do
                        if type(tv) == "table" and tv.r then
                            Settings.Theme[tk] = Color3.new(tv.r, tv.g, tv.b)
                        end
                    end
                end
            end
        end
    else
        if _G.RtxHubSettings then
            for k,v in pairs(_G.RtxHubSettings) do Settings[k] = v end
        end
    end
end

local function saveSettings()
    local copy = {
        AutoExecute = Settings.AutoExecute,
        WalkSpeed = Settings.WalkSpeed,
        JumpPower = Settings.JumpPower,
        Theme = {}
    }
    for k,v in pairs(Settings.Theme) do
        local c = v
        copy.Theme[k] = { r = c.R, g = c.G, b = c.B }
    end
    if typeof(writefile) == "function" and typeof(readfile) == "function" then
        local ok, err = pcall(function()
            writefile(SETTINGS_FILE, HttpService:JSONEncode(copy))
        end)
        if not ok then warn("RTX: failed to write settings:", err) end
    else
        _G.RtxHubSettings = copy
    end
end

loadSettings()

-- ======= Remove old hub if present =======
if PlayerGui:FindFirstChild("RTXHubGui") then
    PlayerGui.RTXHubGui:Destroy()
end

-- ======= UI: ScreenGui & BALANCED MOBILE SCALING =======
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RTXHubGui"
screenGui.DisplayOrder = 999
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = PlayerGui

local uiScale = Instance.new("UIScale")
uiScale.Parent = screenGui

local function computeScale()
    local viewport = workspace.CurrentCamera and workspace.CurrentCamera.ViewportSize or Vector2.new(1280,720)
    local minDim = math.min(viewport.X, viewport.Y)

    if UserInputService.TouchEnabled then
        -- üì± Mobile ‚Äî tuned so the hub is BIG but NOT fullscreen
        local base = minDim / 720

        -- This range gives breathing room while still being readable
        return math.clamp(base, 0.85, 1.15)

    else
        -- üñ• Desktop unchanged
        local base = minDim / 1200
        return math.clamp(base, 0.9, 1.1)
    end
end

local function updateScale()
    uiScale.Scale = computeScale()
end

updateScale()

workspace:GetPropertyChangedSignal("CurrentCamera"):Connect(updateScale)

if workspace.CurrentCamera then
    workspace.CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(updateScale)
end

-- ======= Toast system (small animated popup) =======
local function showToast(msg, duration, animateDots)
    duration = duration or 2.2
    local toast = Instance.new("Frame")
    toast.Size = UDim2.new(0, 600, 0, 48)
    toast.Position = UDim2.new(0.5, -150, -0.2, 0)
    toast.AnchorPoint = Vector2.new(0.5, 0)
    toast.BackgroundColor3 = Color3.fromRGB(24,24,28)
    toast.BorderSizePixel = 0
    toast.Parent = screenGui
    addRound(toast, UDim.new(0, 10))

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.Position = UDim2.new(0, 12, 0, 0)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.GothamBold
    label.TextSize = 14
    label.TextColor3 = Color3.fromRGB(240,240,240)
    label.TextXAlignment = Enum.TextXAlignment.Center
    label.TextYAlignment = Enum.TextYAlignment.Center
    label.Text = msg
    label.Parent = toast

    -- animate in
    tw(toast, {Position = UDim2.new(0.5, -150, 0.02, 0), Size = UDim2.new(0, 620, 0, 56)}, 0.22):Play()
    -- animate dots if requested
    local running = true
    local dotCo
    if animateDots then
        dotCo = coroutine.create(function()
            local base = msg
            local d = 0
            while running do
                local sdot = string.rep(".", (d%4))
                pcall(function() label.Text = base .. sdot end)
                d = d + 1
                task.wait(0.5)
            end
        end)
        coroutine.resume(dotCo)
    end

    task.delay(duration, function()
        running = false
        tw(toast, {Position = UDim2.new(0.5, -150, -0.2, 0), Size = UDim2.new(0, 280, 0, 44)}, 0.22):Play()
        task.delay(0.24, function() pcall(function() toast:Destroy() end) end)
    end)
end

-- ======= Main window (with animated open/close via chat) =======
local main = Instance.new("Frame")
main.Name = "Main"
main.Size = UDim2.new(0, 920, 0, 580)
main.Position = UDim2.new(0.5, 0, -1.2, 0) -- start hidden above screen
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = Settings.Theme and Settings.Theme.Background or DEFAULT_THEME.Background
main.Parent = screenGui
addRound(main, DEFAULT_THEME.Radius)
addStroke(main, Color3.fromRGB(0,0,0), 1)

-- main border stroke
local mainStroke = addStroke(main, DEFAULT_THEME.Accent, 2)

-- drop shadow
if DEFAULT_THEME.Shadows then
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.BackgroundTransparency = 1
    shadow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
    shadow.Position = UDim2.new(0, -8, 0, -8)
    shadow.Size = UDim2.new(1, 16, 1, 16)
    shadow.ZIndex = 0
    shadow.ImageTransparency = 0.85
    shadow.Parent = main
end

-- header (keeps drag)
local header = Instance.new("Frame")
header.Name = "Header"
header.Size = UDim2.new(1, 0, 0, 68)
header.BackgroundColor3 = Settings.Theme and Settings.Theme.Panel or DEFAULT_THEME.Panel
header.Parent = main
addRound(header, UDim.new(0, 12))

-- title and subtitle layout: move subtitle to the right of title for better visibility
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(0, 340, 1, 0)
title.Position = UDim2.new(0, 18, 0, 0)
title.BackgroundTransparency = 1
title.Text = "RTX HUB"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header
local titleStroke = addStroke(title, DEFAULT_THEME.Accent, 1)

local subtitle = Instance.new("TextLabel")
subtitle.Name = "Subtitle"
subtitle.Size = UDim2.new(0, 420, 1, 0)
subtitle.Position = UDim2.new(0, 175, 0, 8) -- to the right and slightly higher for visibility
subtitle.BackgroundTransparency = 1
subtitle.Text = "Enjoy LIMITLESS Power"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 14
subtitle.TextColor3 = Settings.Theme and Settings.Theme.Muted or DEFAULT_THEME.Muted
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.Parent = header

-- ======= Left sidebar =======
local sidebar = Instance.new("Frame")
sidebar.Name = "Sidebar"
sidebar.Size = UDim2.new(0, 220, 1, -92)
sidebar.Position = UDim2.new(0, 0, 0, 68)
sidebar.BackgroundColor3 = Settings.Theme and Settings.Theme.Panel or DEFAULT_THEME.Panel
sidebar.Parent = main
addRound(sidebar, UDim.new(0, 12))

local sideLayout = Instance.new("UIListLayout")
sideLayout.Padding = UDim.new(0, 8)
sideLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
sideLayout.VerticalAlignment = Enum.VerticalAlignment.Top
sideLayout.SortOrder = Enum.SortOrder.LayoutOrder
sideLayout.Parent = sidebar

local sidePadding = Instance.new("UIPadding")
sidePadding.PaddingTop = UDim.new(0, 18)
sidePadding.PaddingLeft = UDim.new(0, 12)
sidePadding.PaddingRight = UDim.new(0, 12)
sidePadding.Parent = sidebar

-- Search box
local searchBox = Instance.new("TextBox")
searchBox.Name = "Search"
searchBox.Size = UDim2.new(1, -24, 0, 36)
searchBox.BackgroundColor3 = Color3.fromRGB(22,22,26)
searchBox.PlaceholderText = "Search..."
searchBox.Text = ""
searchBox.ClearTextOnFocus = false
searchBox.Font = Enum.Font.Gotham
searchBox.TextSize = 14
searchBox.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
searchBox.Parent = sidebar
addRound(searchBox, UDim.new(0, 8))
addStroke(searchBox, Color3.fromRGB(0,0,0), 1)


-- Buttons holder (scrollable)
local buttonsHolder = Instance.new("ScrollingFrame")
buttonsHolder.Name = "Buttons"
buttonsHolder.Size = UDim2.new(1, 0, 1, -86)
buttonsHolder.BackgroundTransparency = 1
buttonsHolder.ScrollBarThickness = 6
buttonsHolder.CanvasSize = UDim2.new(0,0,0,0)
buttonsHolder.AutomaticCanvasSize = Enum.AutomaticSize.Y
buttonsHolder.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar
buttonsHolder.Parent = sidebar

local buttonsLayout = Instance.new("UIListLayout")
buttonsLayout.Padding = UDim.new(0, 10)
buttonsLayout.SortOrder = Enum.SortOrder.LayoutOrder
buttonsLayout.Parent = buttonsHolder

-- ======= Content area =======
local content = Instance.new("Frame")
content.Name = "Content"
content.Size = UDim2.new(1, -240, 1, -92)
content.Position = UDim2.new(0, 240, 0, 68)
content.BackgroundColor3 = Settings.Theme and Settings.Theme.Panel or DEFAULT_THEME.Panel
content.Parent = main
addRound(content, UDim.new(0, 12))
addStroke(content, Color3.fromRGB(0,0,0), 1)

local contentPadding = Instance.new("UIPadding")
contentPadding.PaddingTop = UDim.new(0, 18)
contentPadding.PaddingLeft = UDim.new(0, 18)
contentPadding.PaddingRight = UDim.new(0, 18)
contentPadding.Parent = content

local pageTitle = Instance.new("TextLabel")
pageTitle.Name = "PageTitle"
pageTitle.Size = UDim2.new(1, 0, 0, 36)
pageTitle.BackgroundTransparency = 1
pageTitle.Font = Enum.Font.GothamBold
pageTitle.TextSize = 18
pageTitle.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
pageTitle.Text = "Welcome"
pageTitle.TextXAlignment = Enum.TextXAlignment.Left
pageTitle.Parent = content

local pageArea = Instance.new("Frame")
pageArea.Name = "PageArea"
pageArea.Size = UDim2.new(1, 0, 1, -56)
pageArea.Position = UDim2.new(0, 0, 0, 40)
pageArea.BackgroundTransparency = 1
pageArea.ClipsDescendants = true
pageArea.Parent = content

-- ======= Pages system (keeps original behaviour) =======
local Pages, currentPageName = {}, nil
local function createPage(name)
    local p = Instance.new("ScrollingFrame")
    p.Name = name
    p.Size = UDim2.new(1, 0, 1, 0)
    p.Position = UDim2.new(1, 0, 0, 0)
    p.BackgroundTransparency = 1
    p.ScrollBarThickness = 8
    p.CanvasSize = UDim2.new(0,0,0,0)
    p.AutomaticCanvasSize = Enum.AutomaticSize.Y
    p.Parent = pageArea

    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 10)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Parent = p

    local padding = Instance.new("UIPadding")
    padding.PaddingTop = UDim.new(0, 6)
    padding.PaddingLeft = UDim.new(0, 6)
    padding.PaddingRight = UDim.new(0, 6)
    padding.Parent = p

    Pages[name] = p
    return p
end

local function showPage(name)
    if currentPageName == name then return end
    local old = currentPageName and Pages[currentPageName] or nil
    local new = Pages[name]
    if not new then return end
    pageTitle.Text = name
    currentPageName = name

    if old then tw(old, {Position = UDim2.new(-1,0,0,0)}):Play() end
    new.Position = UDim2.new(1,0,0,0)
    tw(new, {Position = UDim2.new(0,0,0,0)}):Play()
    if old then
        delay(ANIM.Time + 0.02, function()
            if old and old.Parent then old.Position = UDim2.new(1,0,0,0) end
        end)
    end
end

-- ======= Sidebar button creator (preserved) =======
local function createSidebarButton(titleText, order)
    local btnHolder = Instance.new("Frame")
    btnHolder.Name = titleText .. "Btn"
    btnHolder.Size = UDim2.new(1, 0, 0, 44)
    btnHolder.BackgroundTransparency = 1
    btnHolder.LayoutOrder = order or 1
    btnHolder.Parent = buttonsHolder

    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 1, 0)
    btn.BackgroundColor3 = Color3.fromRGB(18,18,22)
    btn.AutoButtonColor = false
    btn.Text = ""
    btn.Parent = btnHolder
    addRound(btn, UDim.new(0, 10))
    addStroke(btn, Color3.fromRGB(0,0,0), 1)

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -70, 1, 0)
    label.Position = UDim2.new(0, 12, 0, 0)
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Font = Enum.Font.Gotham
    label.TextSize = 15
    label.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
    label.Text = titleText
    label.Parent = btn
    -- text & stroke for label
    local lblStroke = addStroke(label, DEFAULT_THEME.Accent, 1)


    local sub = Instance.new("TextLabel")
    sub.Size = UDim2.new(1, -70, 1, 0)
    sub.Position = UDim2.new(0, 12, 0, 18)
    sub.BackgroundTransparency = 1
    sub.TextXAlignment = Enum.TextXAlignment.Left
    sub.Font = Enum.Font.Gotham
    sub.TextSize = 11
    sub.TextColor3 = Settings.Theme and Settings.Theme.Muted or DEFAULT_THEME.Muted
    sub.Text = "Open " .. titleText
    sub.Parent = btn

    local accent = Instance.new("Frame")
    accent.Size = UDim2.new(0, 6, 1, -8)
    accent.Position = UDim2.new(1, -14, 0, 4)
    accent.AnchorPoint = Vector2.new(1, 0)
    accent.BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent
    accent.Parent = btn
    addRound(accent, UDim.new(0, 6))
    accent.Visible = false

    btn.MouseEnter:Connect(function()
        tw(btn, {BackgroundColor3 = Color3.fromRGB(22,22,28)}):Play()
    end)
    btn.MouseLeave:Connect(function()
        tw(btn, {BackgroundColor3 = Color3.fromRGB(18,18,22)}):Play()
    end)

    btn.MouseButton1Click:Connect(function()
        showPage(titleText)
        for _, child in ipairs(buttonsHolder:GetChildren()) do
            if child:IsA("Frame") then
                local b = child:FindFirstChildWhichIsA("TextButton")
                if b then
                    local f = b:FindFirstChildWhichIsA("Frame")
                    if f then f.Visible = false end
                end
            end
        end
        accent.Visible = true
        tw(accent, {Size = UDim2.new(0, 6, 1, -8)}):Play()
    end)

    return { Holder = btnHolder, Button = btn, SetSubText = function(txt) sub.Text = txt end, SetAccent = function(on) accent.Visible = on end }
end

-- ======= Toggle helper (unchanged) =======
local function createToggle(labelText, initial)
    local row = Instance.new("Frame")
    row.Size = UDim2.new(1, 0, 0, 46)
    row.BackgroundTransparency = 1

    local lbl = Instance.new("TextLabel")
    lbl.Size = UDim2.new(0.6, 0, 1, 0)
    lbl.BackgroundTransparency = 1
    lbl.Text = labelText
    lbl.Font = Enum.Font.Gotham
    lbl.TextSize = 15
    lbl.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.Parent = row

    local togg = Instance.new("Frame")
    togg.Size = UDim2.new(0, 58, 0, 28)
    togg.AnchorPoint = Vector2.new(1, 0)
    togg.Position = UDim2.new(1, -6, 0, 8)
    togg.BackgroundColor3 = Color3.fromRGB(40,40,46)
    addRound(togg, UDim.new(0, 14))
    togg.Parent = row

    local circle = Instance.new("Frame")
    circle.Size = UDim2.new(0, 24, 0, 24)
    circle.Position = UDim2.new(0, 4, 0, 2)
    circle.BackgroundColor3 = Color3.fromRGB(230,230,230)
    addRound(circle, UDim.new(0, 12))
    circle.Parent = togg

    local state = initial and true or false
    local function setState(v)
        state = not not v
        if state then
            tw(togg, {BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent}):Play()
            tw(circle, {Position = UDim2.new(1, -28, 0, 2)}):Play()
            circle.BackgroundColor3 = Color3.fromRGB(255,255,255)
        else
            tw(togg, {BackgroundColor3 = Color3.fromRGB(40,40,46)}):Play()
            tw(circle, {Position = UDim2.new(0, 4, 0, 2)}):Play()
            circle.BackgroundColor3 = Color3.fromRGB(230,230,230)
        end
    end

    togg.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            setState(not state)
        end
    end)

    setState(state)
    return row, function() return state end, setState
end

-- ======= Action button helper =======
local function createActionButton(textLabel, url)
    local row = Instance.new("Frame")
    row.Size = UDim2.new(1, 0, 0, 48)
    row.BackgroundTransparency = 1

    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 160, 1, 0)
    btn.Position = UDim2.new(0, 0, 0, 0)
    btn.BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Text = textLabel
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    btn.Parent = row
    addRound(btn, UDim.new(0, 10))
    addStroke(btn, Color3.fromRGB(0,0,0), 1)
    local btnStroke = addStroke(btn, DEFAULT_THEME.Accent, 1)

    local running = false
    btn.MouseButton1Click:Connect(function()
        if running then return end
        running = true
        local oldText = btn.Text
        btn.Text = "Running..."
        btn.BackgroundColor3 = Color3.fromRGB(120,120,120)
        spawn(function()
            local ok, res = pcall(function()
                if type(url) ~= "string" then error("Invalid URL") end
                local content
                local ok2, err2 = pcall(function()
                    content = game:HttpGet(url, true)
                end)
                if not ok2 then error("HttpGet failed: "..tostring(err2)) end
                local f, err = loadstring(content)
                if not f then error("loadstring failed: "..tostring(err)) end
                local ran, rerr = pcall(function() f() end)
                if not ran then error("remote script error: "..tostring(rerr)) end
                return true
            end)
            if ok then
                btn.Text = "Done"
                tw(btn, {Size = UDim2.new(0, 160, 1, 0)}, 0.12):Play()
                wait(0.8)
                btn.Text = oldText
                btn.BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent
            else
                warn("[RTXHub] Action failed:", res)
                btn.Text = "Error"
                btn.BackgroundColor3 = Color3.fromRGB(160,50,50)
                wait(1.2)
                btn.Text = oldText
                btn.BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent
            end
            running = false
        end)
    end)
    return row
end

-- ======= Pages & content (kept from original) =======
local pageWelcome = createPage("Welcome")
local welcomeText = Instance.new("TextLabel")
welcomeText.Size = UDim2.new(1, -24, 0, 120)
welcomeText.BackgroundTransparency = 1
welcomeText.TextWrapped = true
welcomeText.TextXAlignment = Enum.TextXAlignment.Left
welcomeText.Font = Enum.Font.Gotham
welcomeText.TextSize = 14
welcomeText.TextColor3 = Settings.Theme and Settings.Theme.Muted or DEFAULT_THEME.Muted
welcomeText.Text = "Welcome to the 01_ii SPT Hub, built from scratch, cleanest hub yet, most overpowered ever!! To begin using the hub, start with getting a base with the button below!"
welcomeText.Parent = pageWelcome

local getBaseBtn = createActionButton("Get Base", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Get%20Base%20V3.txt")
getBaseBtn.LayoutOrder = 5
getBaseBtn.Parent = pageWelcome

-- Updates page
local updatesPage = createPage("Updates")
local updatesHeader = Instance.new("TextLabel")
updatesHeader.Size = UDim2.new(1, -24, 0, 26)
updatesHeader.BackgroundTransparency = 1
updatesHeader.Font = Enum.Font.GothamBold
updatesHeader.TextSize = 16
updatesHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
updatesHeader.TextXAlignment = Enum.TextXAlignment.Left
updatesHeader.Text = "Updates"
updatesHeader.Parent = updatesPage

local updatesScroll = Instance.new("ScrollingFrame")
updatesScroll.Size = UDim2.new(1, -12, 1, -36)
updatesScroll.Position = UDim2.new(0, 6, 0, 30)
updatesScroll.BackgroundTransparency = 1
updatesScroll.BorderSizePixel = 0
updatesScroll.ScrollBarThickness = 6
updatesScroll.CanvasSize = UDim2.new(0,0,0,0)
updatesScroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
updatesScroll.Parent = updatesPage

local updatesLabel = Instance.new("TextLabel")
updatesLabel.Size = UDim2.new(1, -10, 0, 0)
updatesLabel.Position = UDim2.new(0, 5, 0, 0)
updatesLabel.BackgroundTransparency = 1
updatesLabel.Text = [[
üìù Updates:
    |
11/30/25
    - Reworked respawn, it should NOT cause lag anymore, but still be super reliable and fast, hofully still th efastest.
    - New test Page, now verification protected, for reasons.
    - New Test Script, Anti-GodMode, coming soon for everyone.. maybe..
    - Renamed Reach to Grip, for reasons i dont feel like explaining, its still sueful tho trust me :)

                        Thats all, enjoy ;)
    |
11/29/25
    - Updated Anim Tools - No Loner Laggy
    - Split apart Float Tool and Reach, both are no seperate button found in the "Other Scripts" Page
    - Updated and Improved Get tools ]
    - Removed Secret Scripts Page, it was kinda useless. I'll add the scripts on this page to "Other Scripts"

    Thas all for today fokes, enjoy ;)
]]
updatesLabel.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
updatesLabel.TextWrapped = true
updatesLabel.TextYAlignment = Enum.TextYAlignment.Top
updatesLabel.TextXAlignment = Enum.TextXAlignment.Center
updatesLabel.Font = Enum.Font.Gotham
updatesLabel.TextSize = 14
updatesLabel.AutomaticSize = Enum.AutomaticSize.Y
updatesLabel.Parent = updatesScroll

updatesLabel:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
    updatesScroll.CanvasSize = UDim2.new(0, 0, 0, updatesLabel.AbsoluteSize.Y + 20)
end)
updatesScroll.CanvasSize = UDim2.new(0, 0, 0, updatesLabel.AbsoluteSize.Y + 20)

-- Info page
local infoPage = createPage("Info")
local infoHeader = Instance.new("TextLabel")
infoHeader.Size = UDim2.new(1, -24, 0, 26)
infoHeader.BackgroundTransparency = 1
infoHeader.Font = Enum.Font.GothamBold
infoHeader.TextSize = 16
infoHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
infoHeader.TextXAlignment = Enum.TextXAlignment.Left
infoHeader.Text = "Hub Info"
infoHeader.Parent = infoPage

local infoScroll = Instance.new("ScrollingFrame")
infoScroll.Size = UDim2.new(1, -12, 1, -36)
infoScroll.Position = UDim2.new(0, 6, 0, 30)
infoScroll.BackgroundTransparency = 1
infoScroll.BorderSizePixel = 0
infoScroll.ScrollBarThickness = 6
infoScroll.CanvasSize = UDim2.new(0,0,0,0)
infoScroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
infoScroll.Parent = infoPage

local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, -10, 0, 0)
infoLabel.Position = UDim2.new(0, 5, 0, 0)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = [[
üìù Hub Information:

How to open and close: 
    - To Open the hub (You obv already figured that out) you will type /hubopen in the chat, to close the hub, you will type /hubclose in the chat.

Pages and buttons: 
    - Just click on a page to open the page, and click a button to execute the corresponding script. some pages may be for special verified users only, or the creator only.

Updates: 
    - The updates page will show every new update added to the hub and/or scripts when something is changed to them, always check the updates page on execute.

Scripts:
     - Most scripts work together, but theres some things you should keep in mind before executing. DO NOT use Insta-Kill, this will sky rocket your ping. this is still a W.I.P. The attacker track is a W.I.P, this is to track whos attacking you so you can attack back. Loopbring is  little outdates and is a current W.I.P, stay tuned. 

    - All other scripts work fine together, just be sure you know what your doing. The hub creator is not goign to waist his life teaching you hwo to use the hub an dscripts because you dont know how to read.

    - Use Tools Anim makes you have anims when attacking, Use Tools No Anim, means there will be no anim when attacking (No Anim is better for ping contorl)
        - Use Tools Anim is currently buggy, causes high ping very fast, avoid using for now.

    - Attacker tracker still uses commands to open, use /tracker, and /trackerclose

Credits: 
    - This hub was created solley by Drew (Previously known as Dyllan) This hub took about 2 days to fully finish. very few people will have access to this version of the hub.

Rules:
    - Do not give this hub to anyone. it is private proerty and i will end everythign you know and love if it gets into the wrong hands. 

    - Do not show people videos, or screenshots of the Hub unless giving permission by the hub creator, Drew.

    - Do not use this hub to kill randoms and abuse everyone, this is meant to protect SPT from the bad hackers, not help destroy it.
]]
infoLabel.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
infoLabel.TextWrapped = true
infoLabel.TextYAlignment = Enum.TextYAlignment.Top
infoLabel.TextXAlignment = Enum.TextXAlignment.Center
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextSize = 14
infoLabel.AutomaticSize = Enum.AutomaticSize.Y
infoLabel.Parent = infoScroll

infoLabel:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()
    infoScroll.CanvasSize = UDim2.new(0, 0, 0, infoLabel.AbsoluteSize.Y + 20)
end)
infoScroll.CanvasSize = UDim2.new(0, 0, 0, infoLabel.AbsoluteSize.Y + 20)

-- Tools / Player / Other / Settings pages: preserved
local testPage = createPage("Test Scripts")
local testHeader = Instance.new("TextLabel")
testHeader.Size = UDim2.new(1, -24, 0, 26)
testHeader.BackgroundTransparency = 1
testHeader.Font = Enum.Font.GothamBold
testHeader.TextSize = 16
testHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
testHeader.TextXAlignment = Enum.TextXAlignment.Left
testHeader.Text = "Test Scripts"
testHeader.Parent = testPage

local testing = {
    {"OP NoCooldown V2", "https://pastefy.app/TKPBRXLV/raw"},
    {"OP Anim Tools V2", "https://pastefy.app/vZaM5MGz/raw"},
    {"OP No-Anim Tools V2", "https://pastefy.app/WasED9hl/raw"},
    {"OP Respawn V2", "https://pastefy.app/AEXGWk46/raw"},
    {"Kill Aura V3", "https://pastefy.app/cHB18FKG/raw"},
    {"OP Get Tools V2", "https://pastefy.app/ETV5pszW/raw"},
    {"Damage V2", "https://pastefy.app/a8JSv1B6/raw"},
    {"Float Tools V2", "https://pastefy.app/ceAeq4Ka/raw"},
    {"Anti-GodMode", "https://pastefy.app/pyLRQ8bM/raw"},
}

for i, t in ipairs(testing) do
    local row = createActionButton(t[1], t[2])
    row.LayoutOrder = 10 + i
    row.Parent = testPage
end

-- Tools / Player / Other / Settings pages: preserved
local toolsPage = createPage("Tool Scripts")
local toolsHeader = Instance.new("TextLabel")
toolsHeader.Size = UDim2.new(1, -24, 0, 26)
toolsHeader.BackgroundTransparency = 1
toolsHeader.Font = Enum.Font.GothamBold
toolsHeader.TextSize = 16
toolsHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
toolsHeader.TextXAlignment = Enum.TextXAlignment.Left
toolsHeader.Text = "Tool Scripts"
toolsHeader.Parent = toolsPage

local tools = {
    {"Get Tools", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/OP%20Tool%20Grabber"},
    {"OP No Cooldown", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/OP%20No%20Coooldown"},
    {"No Anim Tools", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Use%20Tools%20No%20Anim"},
    {"Anim Tools", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Use%20Tools%20Anim"},
    {"Normla Kill Aura", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Death%20Aura.txt"},
    {"OP Insta-Kill", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/OP%20Insta-Kill"},
}
for i, t in ipairs(tools) do
    local row = createActionButton(t[1], t[2])
    row.LayoutOrder = 10 + i
    row.Parent = toolsPage
end

local playerPage = createPage("Player Scripts")
local pHeader = Instance.new("TextLabel")
pHeader.Size = UDim2.new(1, -24, 0, 26)
pHeader.BackgroundTransparency = 1
pHeader.Font = Enum.Font.GothamBold
pHeader.TextSize = 16
pHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
pHeader.TextXAlignment = Enum.TextXAlignment.Left
pHeader.Text = "Player Scripts"
pHeader.Parent = playerPage

local playerScripts = {
    {"OP Respawn", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/OP%20Respawn"},
    {"Target Aura", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Target%20Aura"},
    {"Loopbring", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Loopbring"},
    {"Damage", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Damage"},
    {"OP Anti-Lag", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/OP%20Anti-Lag"},
    {"Infinite Yield", "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"},
}
for i,t in ipairs(playerScripts) do
    local row = createActionButton(t[1], t[2])
    row.LayoutOrder = 10 + i
    row.Parent = playerPage
end

local otherPage = createPage("Other Scripts")
local oHeader = Instance.new("TextLabel")
oHeader.Size = UDim2.new(1, -24, 0, 26)
oHeader.BackgroundTransparency = 1
oHeader.Font = Enum.Font.GothamBold
oHeader.TextSize = 16
oHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
oHeader.TextXAlignment = Enum.TextXAlignment.Left
oHeader.Text = "Other Scripts"
oHeader.Parent = otherPage

local otherScripts = {
    {"PermaDeath", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/PermaDeath"},
    {"Float Tools", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Float%20Tools"},
    {"Grip", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/GripTools"},
    {"Attacker Tarcker", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Attacker%20Tracker"},
    {"Axe Smash Spam", "https://raw.githubusercontent.com/GlitcherTheHacker/Roblox-Scripts/refs/heads/main/Axe%20Smash%20Spam"},
}
for i,t in ipairs(otherScripts) do
    local row = createActionButton(t[1], t[2])
    row.LayoutOrder = 10 + i
    row.Parent = otherPage
end

-- Settings page (preserved sliders + restore buttons)
local settingsPage = createPage("Settings")
local sHeader = Instance.new("TextLabel")
sHeader.Size = UDim2.new(1, -24, 0, 26)
sHeader.BackgroundTransparency = 1
sHeader.Font = Enum.Font.GothamBold
sHeader.TextSize = 16
sHeader.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
sHeader.TextXAlignment = Enum.TextXAlignment.Left
sHeader.Text = "Settings"
sHeader.Parent = settingsPage

local autoRow, getAutoState, setAutoState = createToggle("Auto Execute Hub on Rejoin", Settings.AutoExecute)
autoRow.LayoutOrder = 2
autoRow.Parent = settingsPage
spawn(function()
    while settingsPage.Parent do
        Settings.AutoExecute = getAutoState()
        saveSettings()
        task.wait(0.6)
    end
end)

-- Slider factory (kept)
local function createSlider(labelText, min, max, initial)
    local row = Instance.new("Frame")
    row.Size = UDim2.new(1, 0, 0, 56)
    row.BackgroundTransparency = 1

    local lbl = Instance.new("TextLabel")
    lbl.Size = UDim2.new(0.6, 0, 0, 18)
    lbl.BackgroundTransparency = 1
    lbl.Text = labelText
    lbl.Font = Enum.Font.Gotham
    lbl.TextSize = 14
    lbl.TextColor3 = Settings.Theme and Settings.Theme.Text or DEFAULT_THEME.Text
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.Parent = row

    local valueLbl = Instance.new("TextLabel")
    valueLbl.Size = UDim2.new(0.4, -6, 0, 18)
    valueLbl.Position = UDim2.new(0.6, 6, 0, 0)
    valueLbl.BackgroundTransparency = 1
    valueLbl.Text = tostring(initial)
    valueLbl.Font = Enum.Font.Gotham
    valueLbl.TextSize = 14
    valueLbl.TextColor3 = Settings.Theme and Settings.Theme.Muted or DEFAULT_THEME.Muted
    valueLbl.TextXAlignment = Enum.TextXAlignment.Right
    valueLbl.Parent = row

    local bar = Instance.new("Frame")
    bar.Size = UDim2.new(1, 0, 0, 14)
    bar.Position = UDim2.new(0, 0, 0, 28)
    bar.BackgroundColor3 = Color3.fromRGB(40,40,46)
    bar.Parent = row
    addRound(bar, UDim.new(0, 8))

    local fill = Instance.new("Frame")
    fill.Size = UDim2.new((initial - min)/(max - min), 0, 1, 0)
    fill.BackgroundColor3 = Settings.Theme and Settings.Theme.Accent or DEFAULT_THEME.Accent
    fill.Parent = bar
    addRound(fill, UDim.new(0, 8))

    local dragging = false
    local function setToPercent(p)
        p = math.clamp(p, 0, 1)
        fill.Size = UDim2.new(p, 0, 1, 0)
        local val = math.floor(min + p * (max - min) + 0.5)
        valueLbl.Text = tostring(val)
        return val
    end

    local function updateFromPos(px)
        local barPos = bar.AbsolutePosition
        local barSize = bar.AbsoluteSize
        local p = (px - barPos.X) / (barSize.X)
        return setToPercent(p)
    end

    bar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            local conn
            conn = UserInputService.InputChanged:Connect(function(inp)
                if dragging and inp.Position then
                    updateFromPos(inp.Position.X)
                end
            end)
            repeat
                local pos = UserInputService:GetMouseLocation()
                updateFromPos(pos.X)
                task.wait()
            until not dragging
            conn:Disconnect()
        end
    end)
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)

    setToPercent((initial - min)/(max - min))
    return row, function() return tonumber(valueLbl.Text) end, function(v) setToPercent((v-min)/(max-min)) end
end

local walkRow, getWalkVal, setWalkVal = createSlider("Player WalkSpeed", 8, 500, Settings.WalkSpeed or 16)
walkRow.LayoutOrder = 10
walkRow.Parent = settingsPage

local jumpRow, getJumpVal, setJumpVal = createSlider("Player JumpPower", 20, 500, Settings.JumpPower or 50)
jumpRow.LayoutOrder = 11
jumpRow.Parent = settingsPage

spawn(function()
    while true do
        Settings.WalkSpeed = getWalkVal()
        Settings.JumpPower = getJumpVal()
        local char = LocalPlayer.Character
        if char and char:FindFirstChildWhichIsA("Humanoid") then
            local hum = char:FindFirstChildWhichIsA("Humanoid")
            if hum then
                hum.WalkSpeed = Settings.WalkSpeed
                hum.JumpPower = Settings.JumpPower
            end
        end
        saveSettings()
        task.wait(0.3)
    end
end)

local function addRestoreButton(text, callback, order)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 160, 0, 28)
    btn.Text = text
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 13
    btn.Parent = settingsPage
    btn.LayoutOrder = order
    addRound(btn, UDim.new(0, 8))
    btn.MouseButton1Click:Connect(callback)
end

addRestoreButton("Restore WalkSpeed", function() setWalkVal(16) end, 30)
addRestoreButton("Restore JumpPower", function() setJumpVal(50) end, 31)

local rejoinBtn = Instance.new("TextButton")
rejoinBtn.Size = UDim2.new(0, 160, 0, 36)
rejoinBtn.Text = "üîÑ Rejoin Server"
rejoinBtn.Font = Enum.Font.GothamBold
rejoinBtn.TextSize = 14
rejoinBtn.Parent = settingsPage
rejoinBtn.LayoutOrder = 40
addRound(rejoinBtn, UDim.new(0, 8))

rejoinBtn.MouseButton1Click:Connect(function()
    local TeleportService = game:GetService("TeleportService")
    local LocalPlayer = Players.LocalPlayer
    TeleportService:Teleport(game.PlaceId, LocalPlayer)
end)

-- ======= Sidebar build (kept) =======
local btnWelcome = createSidebarButton("Welcome", 1)
local btnInfo = createSidebarButton("Info", 2); btnInfo.SetAccent(true)
local btnUpdates = createSidebarButton("Updates", 3)
if isVerified(LocalPlayer.UserId) then 
    local btnTest = createSidebarButton("Test Scripts", 4)
end
local btnTools = createSidebarButton("Tool Scripts", 5)
local btnPlayer = createSidebarButton("Player Scripts", 6)
local btnOther = createSidebarButton("Other Scripts", 7)
local btnSettings = createSidebarButton("Settings", 8)

-- ======= Dragging (PC + Mobile) =======
local dragging, dragInput, dragStart, startPos = false, nil, nil, nil
header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = main.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)

header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging and dragStart and startPos then
        local delta = input.Position - dragStart
        main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- ======= Search filter (preserved) =======
searchBox:GetPropertyChangedSignal("Text"):Connect(function()
    local q = searchBox.Text:lower()
    for _, child in ipairs(buttonsHolder:GetChildren()) do
        if child:IsA("Frame") and child.Name:match("Btn$") then
            local btn = child:FindFirstChildWhichIsA("TextButton")
            local lbl = btn and btn:FindFirstChildWhichIsA("TextLabel")
            local visible = q == "" or (lbl and lbl.Text:lower():find(q))
            child.Visible = visible
            child.Size = visible and UDim2.new(1,0,0,44) or UDim2.new(1,0,0,0)
            child.LayoutOrder = visible and child.LayoutOrder or 999
        end
    end
end)

-- ======= Hub API (preserved) =======
local HubAPI = {}
function HubAPI.AddPage(pageName, builderFunc)
    if Pages[pageName] then warn("Page already exists:", pageName); return end
    local p = createPage(pageName)
    if type(builderFunc) == "function" then builderFunc(p) end
    createSidebarButton(pageName, #buttonsHolder:GetChildren()+1)
end
function HubAPI.GetPage(pageName) return Pages[pageName] end
function HubAPI.Show(pageName) showPage(pageName) end

-- Auto-execute behavior
if Settings.AutoExecute then
    saveSettings()
    _G.RtxHubAutoExecuted = true
end

-- Save settings periodically
spawn(function()
    while screenGui.Parent do
        saveSettings()
        task.wait(2.5)
    end
end)

_G.RtxHub = HubAPI


-- Hub Animation
local function hubOpenAnim()
    local scale = uiScale.Scale or 1
    local W, H = math.floor(920 * scale), math.floor(580 * scale)
    main.Size = UDim2.new(0, math.max(320, W), 0, math.max(240, H))
    main.Visible = true
    tw(main, {Position = UDim2.new(0.5, 0, 0.5, 0)}, 0.35):Play()
    tw(main, {Size = UDim2.new(0, math.max(320, W), 0, math.max(240, H))}, 0.35):Play()
end

local function hubCloseAnim()
    local outTween = tw(main, {Position = UDim2.new(0.5, 0, -1.2, 0), Size = UDim2.new(0, 20, 0, 20)}, 0.28)
    outTween:Play()
    delay(0.28, function() main.Visible = false end)
end

local function toggleHub()
    if not main.Visible or main.Position.Y.Scale < 0 then
        hubOpenAnim()
    else
        hubCloseAnim()
    end
end

---------------------------------------------------------------------
-- üî• RTX HUB TOGGLE BUTTON
---------------------------------------------------------------------

-- Safety: ensure main & screenGui exist
if screenGui and main and toggleHub then

    local toggleButton = Instance.new("TextButton")
    toggleButton.Name = "HubToggle"
    toggleButton.Parent = screenGui

    -- Position: Left Middle, slightly below chat bar
    toggleButton.Size = UDim2.new(0, 130, 0, 46)
    toggleButton.Position = UDim2.new(0, 25, 0.5, -60)
    toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    toggleButton.BorderSizePixel = 0
    toggleButton.AutoButtonColor = false
    toggleButton.Text = "HUB"
    toggleButton.Font = Enum.Font.GothamBlack
    toggleButton.TextSize = 20
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = toggleButton

    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(255,0,0)
    stroke.Parent = toggleButton

    -- Hub Toggle
    toggleButton.MouseButton1Click:Connect(function()
        toggleHub()
    end)

    UserInputService.InputBegan:Connect(function(key, gp)
        if gp then return end
        if key.KeyCode == Enum.KeyCode.G then
            toggleHub()
        end
    end)

    print("[RTXHub] Toggle button successfully initialized.")
else
    warn("[RTXHub] Toggle button could not initialize ‚Äî required objects missing.")
end

-- One-time startup toast
if not _G.RtxHub_FirstSeen then
    _G.RtxHub_FirstSeen = true
    spawn(function()
        showToast("SPT Hub Executed ‚Äî REMEMBER TO READ UPDATES AND INFO PAGES!!", 3.4, false)
        wait(1.0)
    end)
end

-- ======= Finalize and initial print =======
showPage("Info")

print("RTX Hub Initilized")
